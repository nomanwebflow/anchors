gsap.registerPlugin(ScrollToPlugin);const triggers=document.querySelectorAll("[data-anchor-trigger]"),targets=document.querySelectorAll("[data-anchor-target]");function getYOffset(){let e=document.querySelector("[data-anchor-header]"),t=0;e&&(t=e.offsetHeight);let r=2*parseFloat(getComputedStyle(document.documentElement).fontSize);return t+r}const yOffset=getYOffset();function clearActive(){triggers.forEach(e=>e.classList.remove("active"))}function onScroll(){let e=!1;targets.forEach(t=>{let r=t.getBoundingClientRect();if(!e&&r.top<window.innerHeight/2&&r.bottom>window.innerHeight/4){let a=t.getAttribute("data-anchor-target");clearActive();let o=document.querySelectorAll(`[data-anchor-trigger="${a}"]`);o.forEach(e=>e.classList.add("active")),e=!0}}),e||clearActive()}triggers.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();let r=e.getAttribute("data-anchor-trigger"),a=document.querySelector(`[data-anchor-target="${r}"]`);if(a){let o=getYOffset();gsap.to(window,{duration:2,scrollTo:{y:a,offsetY:o},ease:"power2.out"})}})}),window.addEventListener("scroll",onScroll),window.addEventListener("resize",onScroll),document.addEventListener("DOMContentLoaded",onScroll);
