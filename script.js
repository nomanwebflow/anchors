gsap.registerPlugin(ScrollToPlugin);const triggers=document.querySelectorAll("[data-anchor-trigger]"),targets=document.querySelectorAll("[data-anchor-target]"),yOffset=parseInt(document.body.getAttribute("anchor-offset"))||100;function clearActive(){triggers.forEach(t=>t.classList.remove("active"))}function onScroll(){let t=!1;targets.forEach(e=>{let r=e.getBoundingClientRect();if(!t&&r.top<window.innerHeight/2&&r.bottom>window.innerHeight/4){let a=e.getAttribute("data-anchor-target");clearActive();let o=document.querySelectorAll(`[data-anchor-trigger="${a}"]`);o.forEach(t=>t.classList.add("active")),t=!0}}),t||clearActive()}triggers.forEach(t=>{t.addEventListener("click",e=>{e.preventDefault();let r=t.getAttribute("data-anchor-trigger"),a=document.querySelector(`[data-anchor-target="${r}"]`);a&&gsap.to(window,{duration:2,scrollTo:{y:a,offsetY:yOffset},ease:"power2.out"})})}),window.addEventListener("scroll",onScroll),window.addEventListener("resize",onScroll),document.addEventListener("DOMContentLoaded",onScroll);